{% extends 'layouts/app.html.twig' %}

{% block title %}Liste de courses - WellCare Connect{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('nutrition-css') }}
    <style>
    @media print {
        body { background: white !important; padding: 0 !important; }
        .no-print { display: none !important; }
        .print-header { display: block !important; margin-bottom: 20px; }
        .shadow-lg { box-shadow: none !important; }
        .dark\\:bg-gray-800 { background: white !important; }
        .dark\\:text-white { color: #333 !important; }
        .dark\\:text-gray-300 { color: #333 !important; }
        .dark\\:text-gray-400 { color: #666 !important; }
        .dark\\:text-gray-500 { color: #666 !important; }
        .dark\\:text-gray-900 { color: black !important; }
        .dark\\:bg-gray-700 { background: #f5f5f5 !important; }
        .dark\\:bg-gray-100 { background: #f0f0f0 !important; }
        input[type="checkbox"] { 
            width: 20px !important; 
            height: 20px !important; 
            -webkit-print-color-adjust: exact !important; 
            print-color-adjust: exact !important; 
        }
        table { font-size: 12pt !important; width: 100% !important; }
        th, td { padding: 8px 12px !important; }
        .category-row td { font-weight: bold !important; }
        h1 { font-size: 24pt !important; color: black !important; }
        tr { page-break-inside: avoid !important; }
    }
    @media screen {
        .print-header { display: none; }
    }
    </style>
{% endblock %}

{% block body_class %}bg-gray-50 dark:bg-gray-900{% endblock %}

{% block body %}
<div class="min-h-screen py-8">
    <div class="max-w-5xl px-4 mx-auto">
        {# Header #}
        <div class="flex flex-col gap-4 mb-6 md:flex-row md:items-center md:justify-between">
            <div>
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Liste de courses</h1>
                <p class="mt-1 text-gray-500 dark:text-gray-400">Préparez vos courses pour la semaine</p>
            </div>
            <div class="flex items-center gap-3 no-print">
                <a href="{{ path('nutrition_dashboard') }}" 
                   class="inline-flex items-center px-4 py-2 text-gray-700 transition-colors border border-gray-300 rounded-lg dark:border-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <i class="mr-2 fas fa-arrow-left"></i>
                    Retour
                </a>
                <button onclick="window.print()" class="inline-flex items-center px-4 py-2 font-medium text-white transition-colors bg-wellcare-500 rounded-lg hover:bg-wellcare-600">
                    <i class="mr-2 fas fa-print"></i>
                    Imprimer
                </button>
            </div>
        </div>

        {# Print-only Header #}
        <div class="hidden print-header">
            <h1 class="text-2xl font-bold">Liste de courses</h1>
            <p class="text-sm text-gray-600">Date: {{ "now"|date("d/m/Y") }}</p>
        </div>

        {# Table View #}
        <div class="bg-white shadow-lg dark:bg-gray-800 rounded-xl overflow-hidden">
            <table class="w-full">
                <thead class="bg-gray-100 dark:bg-gray-700">
                    <tr>
                        <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-300">Catégorie</th>
                        <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-300">Article</th>
                        <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-300">Quantité</th>
                        <th class="px-4 py-3 text-center text-sm font-semibold text-gray-700 dark:text-gray-300 w-16">✓</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                    {# Fruits & Légumes #}
                    <tr class="category-row">
                        <td colspan="4" class="px-4 py-2 bg-green-50 dark:bg-green-900/20 font-semibold text-green-700 dark:text-green-400">
                            <i class="mr-2 fas fa-carrot"></i>Fruits & Légumes
                        </td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Pommes</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">6 pièces</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Bananes</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">1 kg</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Carottes</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">500 g</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Salade</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">1 pièce</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Tomates</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">500 g</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Avocats</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">3 pièces</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>

                    {# Viandes & Poissons #}
                    <tr class="category-row">
                        <td colspan="4" class="px-4 py-2 bg-red-50 dark:bg-red-900/20 font-semibold text-red-700 dark:text-red-400">
                            <i class="mr-2 fas fa-drumstick-bite"></i>Viandes & Poissons
                        </td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Poulet</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">1 kg</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Saumon</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">400 g</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Oeufs</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">12 pièces</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Thon (boîte)</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">2 boîtes</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>

                    {# Produits laitiers #}
                    <tr class="category-row">
                        <td colspan="4" class="px-4 py-2 bg-yellow-50 dark:bg-yellow-900/20 font-semibold text-yellow-700 dark:text-yellow-400">
                            <i class="mr-2 fas fa-cheese"></i>Produits laitiers
                        </td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Lait</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">1 L</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Yaourts grecs</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">4 pots</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Fromage frais</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">200 g</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>

                    {# Épicerie #}
                    <tr class="category-row">
                        <td colspan="4" class="px-4 py-2 bg-amber-50 dark:bg-amber-900/20 font-semibold text-amber-700 dark:text-amber-400">
                            <i class="mr-2 fas fa-box"></i>Épicerie
                        </td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Riz complet</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">500 g</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Quinoa</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">400 g</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Pâtes complètes</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">500 g</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Pain complet</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">1 pain</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Compote de pommes</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">4 pots</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>

                    {# Boissons #}
                    <tr class="category-row">
                        <td colspan="4" class="px-4 py-2 bg-blue-50 dark:bg-blue-900/20 font-semibold text-blue-700 dark:text-blue-400">
                            <i class="mr-2 fas fa-glass-water"></i>Boissons
                        </td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Eau minérale</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">6 litres</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Jus de fruits naturel</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">1 L</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>

                    {# Condiments #}
                    <tr class="category-row">
                        <td colspan="4" class="px-4 py-2 bg-purple-50 dark:bg-purple-900/20 font-semibold text-purple-700 dark:text-purple-400">
                            <i class="mr-2 fas fa-wine-bottle"></i>Condiments
                        </td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Huile d'olive</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">1 bouteille</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Vinaigre balsamique</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">1 bouteille</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400"></td>
                        <td class="px-4 py-2 text-gray-900 dark:text-white">Sel, poivre, épices</td>
                        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">au goût</td>
                        <td class="px-4 py-2 text-center"><input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-wellcare-500"></td>
                    </tr>
                </tbody>
                <tfoot class="bg-gray-50 dark:bg-gray-700">
                    <tr>
                        <td colspan="3" class="px-4 py-3 text-right font-semibold text-gray-700 dark:text-gray-300">Total articles:</td>
                        <td class="px-4 py-3 text-center font-bold text-gray-900 dark:text-white">32</td>
                    </tr>
                </tfoot>
            </table>
        </div>

        {# Tips - Hidden when printing #}
        <div class="mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl no-print">
            <h3 class="font-semibold text-blue-700 dark:text-blue-400 mb-2">
                <i class="mr-2 fas fa-lightbulb"></i>Conseils pour vos courses
            </h3>
            <ul class="text-sm text-blue-600 dark:text-blue-300 space-y-1">
                <li>• Planifiez vos repas avant de faire vos courses</li>
                <li>• Faites une liste et respectez-la pour éviter les achats impulsifs</li>
                <li>• Privilégiez les produits frais et de saison</li>
            </ul>
        </div>
    </div>
</div>
{% endblock body %}
