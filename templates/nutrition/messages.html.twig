{#
    Messages Page
    Communication with nutritionist - works without JavaScript
#}

{% extends 'layouts/app.html.twig' %}

{% block title %}Messages avec votre Nutritionniste - WellCare Connect{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('nutrition-css') }}
{% endblock %}

{% block body %}
<div class="min-h-screen bg-gray-50 dark:bg-gray-900">
    {# Page Header #}
    <div class="bg-white border-b border-gray-200 shadow-sm dark:bg-gray-800 dark:border-gray-700">
        <div class="px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8">
            <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
                <div>
                    <h1 class="flex items-center gap-3 text-2xl font-bold text-gray-900 dark:text-white">
                        <i class="text-3xl fas fa-comments text-wellcare-500"></i>
                        Messages
                    </h1>
                    <p class="mt-1 text-gray-600 dark:text-gray-400">Communication avec votre nutritionniste</p>
                </div>
            </div>
        </div>
    </div>

    <main class="px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8">
        {# Nutritionist Info Card #}
        <div class="p-6 mb-8 bg-white border border-gray-100 shadow-sm dark:bg-gray-800 dark:border-gray-700 rounded-xl">
            <div class="flex items-center gap-4">
                <div class="relative">
                    <div class="flex items-center justify-center w-16 h-16 rounded-full bg-wellcare-100 dark:bg-wellcare-900/30">
                        <i class="text-2xl fas fa-user-md text-wellcare-500"></i>
                    </div>
                    <span class="absolute bottom-0 right-0 w-4 h-4 bg-green-500 border-2 border-white rounded-full dark:border-gray-800"></span>
                </div>
                <div class="flex-1">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Dr. Marie Laurent</h2>
                    <p class="text-sm text-gray-500 dark:text-gray-400">Spécialiste en nutrition sportive</p>
                </div>
                <span class="px-3 py-1 text-sm font-medium text-green-700 bg-green-100 rounded-full dark:bg-green-900/30 dark:text-green-400">
                    <i class="mr-1 text-xs fas fa-circle"></i>
                    En ligne
                </span>
            </div>
        </div>

        {# Messages Container #}
        <div class="bg-white border border-gray-100 shadow-sm dark:bg-gray-800 dark:border-gray-700 rounded-xl">
            <div class="p-6 border-b border-gray-100 dark:border-gray-700">
                <h3 class="font-semibold text-gray-900 dark:text-white">Conversation</h3>
            </div>
            
            <div class="p-6 space-y-4 overflow-y-auto max-h-96">
                {# Static sample messages #}
                <div class="flex justify-start">
                    <div class="max-w-md bg-gray-100 dark:bg-gray-700 rounded-2xl px-4 py-3">
                        <p class="text-sm text-gray-900 dark:text-white">Bonjour! Comment se passe votre semaine nutritionnelle? N'hésitez pas à me faire part de vos questions ou préoccupations.</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                            20/02/2026 09:30
                        </p>
                    </div>
                </div>

                <div class="flex justify-end">
                    <div class="max-w-md bg-wellcare-500 text-white rounded-2xl px-4 py-3">
                        <p class="text-sm">Bonjour Dr. Laurent! Ça va très bien. J'ai réussi à suivre mon plan alimentaire toute la semaine, même si j'ai eu un petit écart ce week-end.</p>
                        <p class="mt-1 text-xs text-white/80">
                            20/02/2026 10:15
                        </p>
                    </div>
                </div>

                <div class="flex justify-start">
                    <div class="max-w-md bg-gray-100 dark:bg-gray-700 rounded-2xl px-4 py-3">
                        <p class="text-sm text-gray-900 dark:text-white">C'est excellent! Un petit écart de temps en temps fait partie d'un mode de vie sain. L'important est de ne pas se culpabiliser et de reprendre le cours normal demain. Avez-vous des questions sur votre plan?</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                            20/02/2026 10:45
                        </p>
                    </div>
                </div>

                <div class="flex justify-end">
                    <div class="max-w-md bg-wellcare-500 text-white rounded-2xl px-4 py-3">
                        <p class="text-sm">Oui, je voulais savoir si je peux remplacer les pâtes par du riz complet? Et aussi, combien de temps avant l'entraînement je devrais manger?</p>
                        <p class="mt-1 text-xs text-white/80">
                            20/02/2026 11:20
                        </p>
                    </div>
                </div>

                <div class="flex justify-start">
                    <div class="max-w-md bg-gray-100 dark:bg-gray-700 rounded-2xl px-4 py-3">
                        <p class="text-sm text-gray-900 dark:text-white">Oui, vous pouvez remplacer les pâtes par du riz complet, c'est même recommandé pour les fibres! Pour l'entraînement, mangez 2-3 heures avant pour un repas complet, ou 30-60 minutes avant une petite collation légère.</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                            20/02/2026 11:35
                        </p>
                    </div>
                </div>
            </div>

            {# Message Input #}
            <form method="post" action="#" class="p-4 border-t border-gray-100 dark:border-gray-700">
                <div class="flex gap-3">
                    <input type="text" name="message" placeholder="Écrivez votre message..."
                           class="flex-1 px-4 py-2 text-gray-900 bg-white border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-wellcare-500 focus:border-transparent">
                    <button type="submit" class="px-6 py-2 text-white transition-colors rounded-lg bg-wellcare-500 hover:bg-wellcare-600">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </form>
        </div>

        {# Quick Reply Options #}
        <div class="mt-4">
            <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">Réponses rapides:</p>
            <div class="flex flex-wrap gap-2">
                <a href="#" class="px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 dark:text-gray-300 rounded-full hover:bg-wellcare-100 dark:hover:bg-wellcare-900/30 transition-colors">
                    Merci pour vos conseils!
                </a>
                <a href="#" class="px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 dark:text-gray-300 rounded-full hover:bg-wellcare-100 dark:hover:bg-wellcare-900/30 transition-colors">
                    J'ai une question sur les protéines
                </a>
                <a href="#" class="px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 dark:text-gray-300 rounded-full hover:bg-wellcare-100 dark:hover:bg-wellcare-900/30 transition-colors">
                    Rendez-vous la semaine prochaine
                </a>
            </div>
        </div>
    </main>
</div>
{% endblock %}
