{% extends 'layouts/app.html.twig' %}

{% block title %}Biblioth√®que de recettes - WellCare Connect{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('nutrition-css') }}
{% endblock %}

{% block body_class %}bg-gray-50 dark:bg-gray-900{% endblock %}

{% block body %}
<div class="min-h-screen py-8">
    <div class="px-4 mx-auto max-w-7xl">
        {# Header #}
        <div class="flex flex-col gap-4 mb-8 md:flex-row md:items-center md:justify-between">
            <div>
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Biblioth√®que de recettes</h1>
                <p class="mt-1 text-gray-500 dark:text-gray-400">D√©couvrez des recettes saines et d√©licieuses</p>
            </div>
            <div class="flex items-center gap-3">
                <a href="{{ path('nutrition_dashboard') }}" 
                   class="inline-flex items-center px-4 py-2 text-gray-700 transition-colors border border-gray-300 rounded-lg dark:border-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <i class="mr-2 fas fa-arrow-left"></i>
                    Retour
                </a>
            </div>
        </div>

        {# Categories #}
        <div class="p-4 mb-6 bg-white shadow-lg dark:bg-gray-800 rounded-2xl">
            <h2 class="mb-4 text-lg font-semibold text-gray-900 dark:text-white">Cat√©gories</h2>
            <div class="flex flex-wrap gap-3">
                <a href="{{ path('nutrition_nutrition_recipes') }}" class="px-4 py-2 font-medium text-white bg-wellcare-500 rounded-lg">
                    <i class="mr-2 fas fa-th-large"></i>Toutes
                </a>
                <a href="{{ path('nutrition_nutrition_recipes', { category: 'breakfast' }) }}" class="px-4 py-2 font-medium text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 rounded-lg hover:bg-wellcare-100{% if category == 'breakfast' %} bg-wellcare-500 text-white{% endif %}">
                    <i class="mr-2 fas fa-mug-hot"></i>Petit-d√©jeuner
                </a>
                <a href="{{ path('nutrition_nutrition_recipes', { category: 'lunch' }) }}" class="px-4 py-2 font-medium text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 rounded-lg hover:bg-wellcare-100{% if category == 'lunch' %} bg-wellcare-500 text-white{% endif %}">
                    <i class="mr-2 fas fa-utensils"></i>D√©jeuner
                </a>
                <a href="{{ path('nutrition_nutrition_recipes', { category: 'dinner' }) }}" class="px-4 py-2 font-medium text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 rounded-lg hover:bg-wellcare-100{% if category == 'dinner' %} bg-wellcare-500 text-white{% endif %}">
                    <i class="mr-2 fas fa-moon"></i>D√Æner
                </a>
                <a href="{{ path('nutrition_nutrition_recipes', { category: 'snacks' }) }}" class="px-4 py-2 font-medium text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 rounded-lg hover:bg-wellcare-100{% if category == 'snacks' %} bg-wellcare-500 text-white{% endif %}">
                    <i class="mr-2 fas fa-cookie"></i>Colations
                </a>
                <a href="{{ path('nutrition_nutrition_recipes', { category: 'desserts' }) }}" class="px-4 py-2 font-medium text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-300 rounded-lg hover:bg-wellcare-100{% if category == 'desserts' %} bg-wellcare-500 text-white{% endif %}">
                    <i class="mr-2 fas fa-birthday-cake"></i>Desserts
                </a>
            </div>
        </div>

        {# Recipes - Filtered by category #}
        <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
            
            {# Recipe 1 - Salade quinoa (lunch) #}
            {% if category == 'lunch' or not category %}
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                <div class="h-48 bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center">
                    <i class="text-6xl text-white/50 fas fa-salad"></i>
                </div>
                <div class="p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-700 rounded-full">D√©jeuner</span>
                        <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full">15 min</span>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Salade de quinoa aux l√©gumes</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Une salade fra√Æche et nutritive parfaite pour le d√©jeuner.</p>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3 text-sm text-gray-500">
                            <span><i class="mr-1 fas fa-fire"></i>320 kcal</span>
                            <span><i class="mr-1 fas fa-drumstick-bite"></i>12g prot√©ines</span>
                        </div>
                        <a href="{{ path('nutrition_food_add', { meal: 'lunch', name: 'Salade quinoa', calories: 320, protein: 12, carbs: 45, fats: 8, is_recipe: 1 }) }}" 
                           class="px-3 py-1 text-sm font-medium text-white bg-wellcare-500 rounded-lg hover:bg-wellcare-600">
                            Ajouter
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}

            {# Recipe 2 - Omelette (breakfast) #}
            {% if category == 'breakfast' or not category %}
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                <div class="h-48 bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center">
                    <i class="text-6xl text-white/50 fas fa-egg"></i>
                </div>
                <div class="p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs font-medium bg-amber-100 text-amber-700 rounded-full">Petit-d√©jeuner</span>
                        <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full">10 min</span>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Omelette aux l√©gumes</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Omelette moelleuse garnie de l√©gumes frais.</p>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3 text-sm text-gray-500">
                            <span><i class="mr-1 fas fa-fire"></i>250 kcal</span>
                            <span><i class="mr-1 fas fa-drumstick-bite"></i>18g prot√©ines</span>
                        </div>
                        <a href="{{ path('nutrition_food_add', { meal: 'breakfast', name: 'Omelette l√©gumes', calories: 250, protein: 18, carbs: 5, fats: 18, is_recipe: 1 }) }}" 
                           class="px-3 py-1 text-sm font-medium text-white bg-wellcare-500 rounded-lg hover:bg-wellcare-600">
                            Ajouter
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}

            {# Recipe 3 - Saumon (dinner) #}
            {% if category == 'dinner' or not category %}
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                <div class="h-48 bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center">
                    <i class="text-6xl text-white/50 fas fa-fish"></i>
                </div>
                <div class="p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs font-medium bg-indigo-100 text-indigo-700 rounded-full">D√Æner</span>
                        <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full">25 min</span>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Saumon grill√© aux asperges</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Poisson riche en om√©ga-3 avec l√©gumes.</p>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3 text-sm text-gray-500">
                            <span><i class="mr-1 fas fa-fire"></i>420 kcal</span>
                            <span><i class="mr-1 fas fa-drumstick-bite"></i>35g prot√©ines</span>
                        </div>
                        <a href="{{ path('nutrition_food_add', { meal: 'dinner', name: 'Saumon asperges', calories: 420, protein: 35, carbs: 10, fats: 25, is_recipe: 1 }) }}" 
                           class="px-3 py-1 text-sm font-medium text-white bg-wellcare-500 rounded-lg hover:bg-wellcare-600">
                            Ajouter
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}

            {# Recipe 4 - Toast avocat (snacks) #}
            {% if category == 'snacks' or not category %}
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                <div class="h-48 bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center">
                    <i class="text-6xl text-white/50 fas fa-bread-slice"></i>
                </div>
                <div class="p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs font-medium bg-pink-100 text-pink-700 rounded-full">Colation</span>
                        <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full">5 min</span>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Toast avocat et oeuf</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Toast complet avec avocat et oeuf poch√©.</p>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3 text-sm text-gray-500">
                            <span><i class="mr-1 fas fa-fire"></i>280 kcal</span>
                            <span><i class="mr-1 fas fa-drumstick-bite"></i>14g prot√©ines</span>
                        </div>
                        <a href="{{ path('nutrition_food_add', { meal: 'snacks', name: 'Toast avocat', calories: 280, protein: 14, carbs: 25, fats: 14, is_recipe: 1 }) }}" 
                           class="px-3 py-1 text-sm font-medium text-white bg-wellcare-500 rounded-lg hover:bg-wellcare-600">
                            Ajouter
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}

            {# Recipe 5 - Bowl poke (lunch) #}
            {% if category == 'lunch' or not category %}
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                <div class="h-48 bg-gradient-to-br from-blue-400 to-cyan-500 flex items-center justify-center">
                    <i class="text-6xl text-white/50 fas fa-bowl-food"></i>
                </div>
                <div class="p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-700 rounded-full">D√©jeuner</span>
                        <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full">30 min</span>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Bowl poke thon</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Bol hawa√Øen avec poisson frais et riz.</p>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3 text-sm text-gray-500">
                            <span><i class="mr-1 fas fa-fire"></i>450 kcal</span>
                            <span><i class="mr-1 fas fa-drumstick-bite"></i>28g prot√©ines</span>
                        </div>
                        <a href="{{ path('nutrition_food_add', { meal: 'lunch', name: 'Bowl poke', calories: 450, protein: 28, carbs: 55, fats: 12, is_recipe: 1 }) }}" 
                           class="px-3 py-1 text-sm font-medium text-white bg-wellcare-500 rounded-lg hover:bg-wellcare-600">
                            Ajouter
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}

            {# Recipe 6 - Smoothie bowl (desserts/snacks) #}
            {% if category == 'desserts' or category == 'snacks' or not category %}
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                <div class="h-48 bg-gradient-to-br from-rose-400 to-pink-600 flex items-center justify-center">
                    <i class="text-6xl text-white/50 fas fa-apple-alt"></i>
                </div>
                <div class="p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs font-medium bg-rose-100 text-rose-700 rounded-full">Dessert</span>
                        <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full">10 min</span>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Smoothie bowl fruits rouges</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Smoothie cr√©meux garni de fruits frais.</p>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3 text-sm text-gray-500">
                            <span><i class="mr-1 fas fa-fire"></i>180 kcal</span>
                            <span><i class="mr-1 fas fa-drumstick-bite"></i>5g prot√©ines</span>
                        </div>
                        <a href="{{ path('nutrition_food_add', { meal: 'snacks', name: 'Smoothie bowl', calories: 180, protein: 5, carbs: 35, fats: 3, is_recipe: 1 }) }}" 
                           class="px-3 py-1 text-sm font-medium text-white bg-wellcare-500 rounded-lg hover:bg-wellcare-600">
                            Ajouter
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>

        {# Tips #}
        <div class="mt-8 p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg">
            <h2 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">
                <i class="mr-2 text-wellcare-500 fas fa-lightbulb"></i>
                Conseils pour cooking
            </h2>
            <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
                <div class="p-4 bg-green-50 dark:bg-green-900/20 rounded-lg">
                    <h3 class="font-semibold text-green-700 dark:text-green-400 mb-2">ü•ó Privil√©giez les l√©gumes</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Ajoutez des l√©gumes √† chaque repas pour plus de fibres et vitamines.</p>
                </div>
                <div class="p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                    <h3 class="font-semibold text-blue-700 dark:text-blue-400 mb-2">ü•© Prot√©ines maigres</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Incluez des prot√©ines √† chaque repas: poulet, poisson, ≈ìufs, l√©gumineuses.</p>
                </div>
                <div class="p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                    <h3 class="font-semibold text-purple-700 dark:text-purple-400 mb-2">üç≥ Cuisson saine</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Pr√©f√©rez la vapeur, le four ou la po√™le plut√¥t que la friture.</p>
                </div>
            </div>
        </div>
    </div>
</div>

{# Floating AI Chat Button #}
{% include 'nutrition/_ai-floating-button.html.twig' %}
{% endblock %}
